"use strict";(self.webpackChunkme_app=self.webpackChunkme_app||[]).push([[7669],{7669:function(i,t,e){e.r(t),e.d(t,{EmitterInstance:function(){return c}});var s=e(4165),n=e(5861),o=e(5671),a=e(3144),r=e(4709),h=e(9185),l=e(7937);function u(i,t){i.color?i.color.value=t:i.color={value:t}}var c=function(){function i(t,e,s,n,a){var l,u,c,p,d,_,v,m,f,y=this;(0,o.Z)(this,i),this.emitters=e,this.container=s,this._destroy=function(){var i,t;null===(i=y._mutationObserver)||void 0===i||i.disconnect(),y._mutationObserver=void 0,null===(t=y._resizeObserver)||void 0===t||t.disconnect(),y._resizeObserver=void 0,y.emitters.removeEmitter(y),y._engine.dispatchEvent("emitterDestroyed",{container:y.container,data:{emitter:y}})},this._prepareToDie=function(){var i;if(!y._paused){var t=void 0!==(null===(i=y.options.life)||void 0===i?void 0:i.duration)?(0,r.Gu)(y.options.life.duration):void 0;y.container.retina.reduceFactor&&(y._lifeCount>0||y._immortal)&&void 0!==t&&t>0&&(y._duration=t*r.X5)}},this._setColorAnimation=function(i,t,e){var s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=y.container;if(!i.enable)return t;var a=(0,r.vd)(i.offset),h=(0,r.Gu)(y.options.rate.delay)*r.X5/o.retina.reduceFactor;return(t+(0,r.Gu)(null!==(s=i.speed)&&void 0!==s?s:0)*o.fpsLimit/h+a*n)%e},this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=a,n instanceof h.Emitter?this.options=n:(this.options=new h.Emitter,this.options.load(n)),this._spawnDelay=(0,r.Gu)(null!==(l=this.options.life.delay)&&void 0!==l?l:0)*r.X5/this.container.retina.reduceFactor,this.position=null!==(u=this._initialPosition)&&void 0!==u?u:this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;var w=(0,r.ZB)({},this.options.particles);if(null!==(c=w)&&void 0!==c||(w={}),null!==(d=(p=w).move)&&void 0!==d||(p.move={}),null!==(v=(_=w.move).direction)&&void 0!==v||(_.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=(0,r.lN)(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=w,this._size=this._calcSize(),this.size=(0,r.ap)(this._size,this.container.canvas.size),this._lifeCount=null!==(m=this.options.life.count)&&void 0!==m?m:-1,this._immortal=this._lifeCount<=0,this.options.domId){var D=document.getElementById(this.options.domId);D&&(this._mutationObserver=new MutationObserver((function(){y.resize()})),this._resizeObserver=new ResizeObserver((function(){y.resize()})),this._mutationObserver.observe(D,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(D))}var z=this.options.shape,C=null===(f=this._engine.emitterShapeManager)||void 0===f?void 0:f.getShapeGenerator(z.type);C&&(this._shape=C.generate(this.position,this.size,this.fill,z.options)),this._engine.dispatchEvent("emitterCreated",{container:s,data:{emitter:this}}),this.play()}return(0,a.Z)(i,[{key:"externalPause",value:function(){this._paused=!0,this.pause()}},{key:"externalPlay",value:function(){this._paused=!1,this.play()}},{key:"init",value:function(){var i=(0,n.Z)((0,s.Z)().mark((function i(){var t;return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,null===(t=this._shape)||void 0===t?void 0:t.init();case 2:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}()},{key:"pause",value:function(){this._paused||delete this._emitDelay}},{key:"play",value:function(){var i;if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(null!==(i=this._spawnDelay)&&void 0!==i?i:0))){if(void 0===this._emitDelay){var t=(0,r.Gu)(this.options.rate.delay);this._emitDelay=t*r.X5/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this._prepareToDie()}}},{key:"resize",value:function(){var i,t=this._initialPosition;this.position=t&&(0,r.Ac)(t,this.container.canvas.size,r.OW.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=(0,r.ap)(this._size,this.container.canvas.size),null===(i=this._shape)||void 0===i||i.resize(this.position,this.size)}},{key:"update",value:function(i){if(!this._paused){var t,e;if(this._firstSpawn)this._firstSpawn=!1,this._currentSpawnDelay=null!==(t=this._spawnDelay)&&void 0!==t?t:0,this._currentEmitDelay=null!==(e=this._emitDelay)&&void 0!==e?e:0;if(this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=i.value,this._currentDuration>=this._duration)){var s,n;if(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal)this.position=this._calcPosition(),null===(s=this._shape)||void 0===s||s.resize(this.position,this.size),this._spawnDelay=(0,r.Gu)(null!==(n=this.options.life.delay)&&void 0!==n?n:0)*r.X5/this.container.retina.reduceFactor;else this._destroy();this._currentDuration-=this._duration,delete this._duration}void 0!==this._spawnDelay&&(this._currentSpawnDelay+=i.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=i.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}}},{key:"_calcPosition",value:function(){if(this.options.domId){var i=document.getElementById(this.options.domId);if(i){var t=i.getBoundingClientRect(),e=this.container.retina.pixelRatio;return{x:(t.x+.5*t.width)*e,y:(t.y+.5*t.height)*e}}}return(0,r.Gz)({size:this.container.canvas.size,position:this.options.position})}},{key:"_calcSize",value:function(){var i,t=this.container;if(this.options.domId){var e=document.getElementById(this.options.domId);if(e){var s=e.getBoundingClientRect();return{width:s.width*t.retina.pixelRatio,height:s.height*t.retina.pixelRatio,mode:"precise"}}}return null!==(i=this.options.size)&&void 0!==i?i:function(){var i=new l.r;return i.load({height:0,mode:"percent",width:0}),i}()}},{key:"_emit",value:function(){if(!this._paused){var i=(0,r.Gu)(this.options.rate.quantity);this._emitParticles(i)}}},{key:"_emitParticles",value:function(i){for(var t=(0,r.wA)(this._particlesOptions),e=0;e<i;e++){var s=(0,r.ZB)({},t);if(this.spawnColor){var n,o=null===(n=this.options.spawnColor)||void 0===n?void 0:n.animation;if(o){var a={h:360,s:100,l:100};this.spawnColor.h=this._setColorAnimation(o.h,this.spawnColor.h,a.h,3.6),this.spawnColor.s=this._setColorAnimation(o.s,this.spawnColor.s,a.s),this.spawnColor.l=this._setColorAnimation(o.l,this.spawnColor.l,a.l)}u(s,this.spawnColor)}var h=this.options.shape,l=this.position;if(this._shape){var c=this._shape.randomPosition();if(c){l=c.position;var p=h.replace;p.color&&c.color&&u(s,c.color),p.opacity&&(s.opacity?s.opacity.value=c.opacity:s.opacity={value:c.opacity})}else l=null}l&&this.container.particles.addParticle(l,s)}}}]),i}()}}]);
//# sourceMappingURL=7669.ebb1bf73.chunk.js.map